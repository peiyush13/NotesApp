<!DOCTYPE html>

<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml"
      xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml"
      xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="UTF-8">
    <title>Test</title>
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">

</head>
<body style="background-color:#c8cbcc">
    <div class="container-fluid" id="MainContainer">
        <div class="row">
            <div class="col-xs-2">
                <textarea disabled class="custom-text-area">This is a notes app</textarea>
                <button title="archive the note" class="glyphicon glyphicon-saved "></button>
                <button @click="new_note" title="new note" class="glyphicon glyphicon-plus-sign "></button>
                <button @click="delete_note" title="delete this note" class="glyphicon glyphicon-minus-sign "></button>
                <button title="reset this note" class="glyphicon glyphicon-refresh "></button>
            </div>
        </div>
        <div v-for="i in count" >
            <div class="col-xs-2" :id="i" >
                <textarea v-model="notes[i-1]" :id=1000+i class="custom-text-area"></textarea>
                <button  @click="archive_note(i)" title="archive the note" class="glyphicon glyphicon-saved "></button>
                <button  @click="new_note" title="new note" class="glyphicon glyphicon-plus-sign "></button>
                <button  @click="delete_note(i)" title="delete this note" class="glyphicon glyphicon-minus-sign "></button>
                <button @click="reset(i)" title="reset this note" class="glyphicon glyphicon-refresh "></button>

            </div>
        </div>
    </div>



</body>
</html>

<script src="js/vue.js"></script>
<script src="js/jquery.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>

    var drag=Vue.nextTick(function () {
        $('.col-xs-2').draggable({
//            cancel:"text"
        });
    })

    var vuedata=new Vue({
        el: '#MainContainer',

        data:{
            name: "this is new note",  //default note
            notes:[],
            count:0,
            drag:drag          //to try and make components generated using v-for draggable,not working (will find a solution for that)
        },

        methods:
            {
                new_note: function () {
                    this.count++;
                },

                archive_note:function(id){
//                    archive functionality not done yet
//                    $("#"+(1000+id).toString()).attr('disabled','disabled');
                },

                reset: function (id) {

                    this.notes[id-1]="";          // vue.js method to delete data
                    $("#"+(1000+id).toString()).val(" "); // jQuery method to delete data
                },

                delete_note: function (id) {
                    $("#"+id.toString()).remove();
                    this.notes[id-1]="";
                },

            },
    });


//component is not working properly, havent tried it using props yet.

//    Vue.component('mycomponent', {
//        template: '<div class="row"><div class="col-xs-2"><textarea v-model="name" class="custom-text-area"></textarea><button  @click="archive_note" title="archive the note" class="glyphicon glyphicon-saved "></button><button  @click="new_note" title="new note" class="glyphicon glyphicon-plus-sign "></button><button  @click="delete_note" title="delete this note" class="glyphicon glyphicon-minus-sign "></button><button @click="reset" title="reset this note" class="glyphicon glyphicon-refresh "></button></div></div>',
//
//        data: function(){
//            return vuedata;
//        }
//    });


</script>
